<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ML.NET kullanarak çoklu dil sınıflandırma | Alim Özdemir</title>
    <meta name="description" content="Bu yazımda Microsoft’un makine öğrenmesi kütüphanesi olan ML.NET’i kullanarak dil sınıflandırma yapacağım. Örnek vermek gerekirse, dökümanları, yazıları vb. şeylerin dillerini tespit edebileceğiz. İşe kendi eğitim ve test verilerimizi oluşturarak başlayacağım.">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.-ZQ2zhvB.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Dat-I3Zf.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.Dm_onezB.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Ao2Tp7LI.js">
    <link rel="modulepreload" href="/assets/posts_ml-net-kullanarak-coklu-dil-siniflandirma.md.D2Qd73ZX.lean.js">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-N7367JX5TN" async></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-N7367JX5TN");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:title" content="ML.NET kullanarak çoklu dil sınıflandırma | Alim Özdemir">
    <meta property="og:description" content="Bu yazımda Microsoft’un makine öğrenmesi kütüphanesi olan ML.NET’i kullanarak dil sınıflandırma yapacağım. Örnek vermek gerekirse, dökümanları, yazıları vb. şeylerin dillerini tespit edebileceğiz. İşe kendi eğitim ve test verilerimizi oluşturarak başlayacağım.">
    <meta property="og:url" content="https://www.alimozdemir.com/posts/ml-net-kullanarak-coklu-dil-siniflandirma">
    <meta property="og:image" content="/img/1__f3sXaYpdqlhYKPlED0J6mg.jpeg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ML.NET kullanarak çoklu dil sınıflandırma | Alim Özdemir">
    <meta name="twitter:description" content="Bu yazımda Microsoft’un makine öğrenmesi kütüphanesi olan ML.NET’i kullanarak dil sınıflandırma yapacağım. Örnek vermek gerekirse, dökümanları, yazıları vb. şeylerin dillerini tespit edebileceğiz. İşe kendi eğitim ve test verilerimizi oluşturarak başlayacağım.">
    <meta name="twitter:url" content="https://www.alimozdemir.com/posts/ml-net-kullanarak-coklu-dil-siniflandirma">
    <meta name="twitter:image" content="/img/1__f3sXaYpdqlhYKPlED0J6mg.jpeg">
    <meta name="twitter:site" content="@almozdmr">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-59c4430d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ecd1bc0b></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ecd1bc0b> Skip to content </a><!--]--><!----><header class="VPNav" data-v-59c4430d data-v-930260ff><div class="VPNavBar" data-v-930260ff data-v-29871249><div class="wrapper" data-v-29871249><div class="container" data-v-29871249><div class="title" data-v-29871249><div class="VPNavBarTitle" data-v-29871249 data-v-f2a17b43><a class="title" href="/" data-v-f2a17b43><!--[--><!--]--><!----><span data-v-f2a17b43>Alim Özdemir</span><!--[--><!--[--><!--[--><!--[--><!--[--><!----><img id="avatar" class="w-10" alt="Profile Photo" src="/avatar/avatar.png"><span class="name-title pl-4">Alim Özdemir</span><span class="post-title pl-4 hidden">ML.NET kullanarak çoklu dil sınıflandırma</span><!--]--><!--]--><!--]--><!--]--><!--]--></a></div></div><div class="content" data-v-29871249><div class="content-body" data-v-29871249><!--[--><!--]--><div class="VPNavBarSearch search" data-v-29871249><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-29871249 data-v-17d0a7e7><span id="main-nav-aria-label" class="visually-hidden" data-v-17d0a7e7> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-17d0a7e7 data-v-24c50f4c><!--[--><span data-v-24c50f4c>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about" tabindex="0" data-v-17d0a7e7 data-v-24c50f4c><!--[--><span data-v-24c50f4c>About</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-29871249 data-v-86871e5f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-86871e5f data-v-76c55e31 data-v-ce98919f><span class="check" data-v-ce98919f><span class="icon" data-v-ce98919f><!--[--><span class="vpi-sun sun" data-v-76c55e31></span><span class="vpi-moon moon" data-v-76c55e31></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-29871249 data-v-2b070e2c data-v-4ffd68fd><!--[--><a class="VPSocialLink no-icon" href="https://www.github.com/alimozdemir" aria-label="github" target="_blank" rel="noopener" data-v-4ffd68fd data-v-7020546b><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/almozdmr/" aria-label="linkedin" target="_blank" rel="noopener" data-v-4ffd68fd data-v-7020546b><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://www.twitter.com/almozdmr" aria-label="twitter" target="_blank" rel="noopener" data-v-4ffd68fd data-v-7020546b><span class="vpi-social-twitter"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-29871249 data-v-681aea7d data-v-3246d379><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-3246d379><span class="vpi-more-horizontal icon" data-v-3246d379></span></button><div class="menu" data-v-3246d379><div class="VPMenu" data-v-3246d379 data-v-1f92d73c><!----><!--[--><!--[--><!----><div class="group" data-v-681aea7d><div class="item appearance" data-v-681aea7d><p class="label" data-v-681aea7d>Appearance</p><div class="appearance-action" data-v-681aea7d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-681aea7d data-v-76c55e31 data-v-ce98919f><span class="check" data-v-ce98919f><span class="icon" data-v-ce98919f><!--[--><span class="vpi-sun sun" data-v-76c55e31></span><span class="vpi-moon moon" data-v-76c55e31></span><!--]--></span></span></button></div></div></div><div class="group" data-v-681aea7d><div class="item social-links" data-v-681aea7d><div class="VPSocialLinks social-links-list" data-v-681aea7d data-v-4ffd68fd><!--[--><a class="VPSocialLink no-icon" href="https://www.github.com/alimozdemir" aria-label="github" target="_blank" rel="noopener" data-v-4ffd68fd data-v-7020546b><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/almozdmr/" aria-label="linkedin" target="_blank" rel="noopener" data-v-4ffd68fd data-v-7020546b><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://www.twitter.com/almozdmr" aria-label="twitter" target="_blank" rel="noopener" data-v-4ffd68fd data-v-7020546b><span class="vpi-social-twitter"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-29871249 data-v-cd66bde9><span class="container" data-v-cd66bde9><span class="top" data-v-cd66bde9></span><span class="middle" data-v-cd66bde9></span><span class="bottom" data-v-cd66bde9></span></span></button></div></div></div></div><div class="divider" data-v-29871249><div class="divider-line" data-v-29871249></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-59c4430d data-v-10c35203><div class="container" data-v-10c35203><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-10c35203 data-v-8f23d1a3><button data-v-8f23d1a3>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-59c4430d data-v-6e3945fc><div class="VPDoc has-aside" data-v-6e3945fc data-v-07acbee8><!--[--><!--[--><!--[--><div class="info-box flex flex-row-reverse items-center justify-between mb-4 xl:flex-col xl:items-start xl:pb-4 xl:hidden" data-v-4e7dc19b><div class="py-4 flex gap-x-2" data-v-4e7dc19b><!--[--><span class="text-sm rounded border p-2" data-v-4e7dc19b>Machine Learning</span><!--]--></div><div data-v-4e7dc19b><span data-v-4e7dc19b>January 30, 2019</span></div></div><!--]--><!--]--><!--]--><div class="container" data-v-07acbee8><div class="aside" data-v-07acbee8><div class="aside-curtain" data-v-07acbee8></div><div class="aside-container" data-v-07acbee8><div class="aside-content" data-v-07acbee8><div class="VPDocAside" data-v-07acbee8 data-v-a8674dc6><!--[--><!--[--><!--[--><!--[--><div class="info-box flex flex-row-reverse items-center justify-between mb-4 xl:flex-col xl:items-start xl:pb-4 hidden xl:flex" data-v-4e7dc19b><div class="py-4 flex gap-x-2" data-v-4e7dc19b><!--[--><span class="text-sm rounded border p-2" data-v-4e7dc19b>Machine Learning</span><!--]--></div><div data-v-4e7dc19b><span data-v-4e7dc19b>January 30, 2019</span></div></div><!--]--><!--]--><!--]--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-a8674dc6 data-v-61e3a742><div class="content" data-v-61e3a742><div class="outline-marker" data-v-61e3a742></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-61e3a742>On this page</div><ul class="VPDocOutlineItem root" data-v-61e3a742 data-v-dcb41878><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-a8674dc6></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-07acbee8><div class="content-container" data-v-07acbee8><!--[--><!--]--><main class="main" data-v-07acbee8><div articleperpage="5" class="vp-doc _posts_ml-net-kullanarak-coklu-dil-siniflandirma" data-v-07acbee8><div><h1 id="ml-net-kullanarak-coklu-dil-sınıflandırma" tabindex="-1">ML.NET kullanarak çoklu dil sınıflandırma <a class="header-anchor" href="#ml-net-kullanarak-coklu-dil-sınıflandırma" aria-label="Permalink to &quot;ML.NET kullanarak çoklu dil sınıflandırma&quot;">​</a></h1><p>Herkese yeniden merhaba,</p><p>Bu yazımda Microsoft’un makine öğrenmesi kütüphanesi olan ML.NET’i kullanarak dil sınıflandırma yapacağım. Örnek vermek gerekirse, dökümanları, yazıları vb. şeylerin dillerini tespit edebileceğiz. İşe kendi eğitim ve test verilerimizi oluşturarak başlayacağım.</p><h2 id="veri-kumesinin-hazırlanması" tabindex="-1">Veri kümesinin hazırlanması <a class="header-anchor" href="#veri-kumesinin-hazırlanması" aria-label="Permalink to &quot;Veri kümesinin hazırlanması&quot;">​</a></h2><p>Veri kümemizi oluşturmak için Wikipedia sayfalarını kullandım. Bu blog yazısı için python üzerinde <a href="https://github.com/alimozdemir/medium/blob/master/MLNet/MulticlassLanguageClassifier/Data/main.py" target="_blank" rel="noreferrer">bir script</a> dosyası hazırladım. Python üzerinde bulunan <a href="https://pypi.org/project/wikipedia/" target="_blank" rel="noreferrer">wikipedia kütüphanesi</a> ile istenilen sayfaların içeriğini çekerek bunları test ve eğitim kümesi olarak ayırıyorum. Ben bu makale için üç dil seçtim; Türkçe, İngilizce ve İspanyolca. Bu her üç dil için neredeyse aynı oranda başlık seçmeye çalıştım. Bu script dosyası ile önceden belirlemiş olduğum sayfaların içeriklerini alıp python <a href="http://www.nltk.org" target="_blank" rel="noreferrer">nltk</a> (natural language toolkit) kütüphanesini kullanarak cümlelere bölüyorum. Ve ardından <code>1/4</code> oranında test/eğitim verilerimi ayırıyorum. Eğer veri kümesini genişletmek istersek script dosyamıza yeni makaleler ekleyebiliriz. Örneğin;</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">titles.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((“Mustafa Kemal Atatürk”, “tr”))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">titles.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Pablo Picasso&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;es&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">titles.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Abraham Lincoln&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><p>Ardından <code>$ python main.py</code>komutu ile çalıştırdığımızda train.txt ve test.txt dosyasımızı oluşturacak. Oluşan dosyaların formatı aşağıdaki gibidir</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tr Cumhuriyet Dönemi Türkiye Ansiklopedisi.  </span></span>
<span class="line"><span>es Picasso finalizó el poema en seis actos...  </span></span>
<span class="line"><span>en Native Americans were also often...</span></span></code></pre></div><p>Ayıraçı <code>\t</code> karakteri olarak belirledim.</p><p><img src="/img/1__f3sXaYpdqlhYKPlED0J6mg.jpeg" alt="ML.NET"></p><h2 id="modelin-hazırlanması" tabindex="-1">Modelin hazırlanması <a class="header-anchor" href="#modelin-hazırlanması" aria-label="Permalink to &quot;Modelin hazırlanması&quot;">​</a></h2><p>Sıra modelimizi hazırlayamaya geldi. Ben bu makaleyi ML.NET 0.5.0 versiyonu ile hazırlamaya başlamıştım ancak 0.6.0 versiyonunda eski API’ların hepsi Legacy namespace’inin altına taşınarak yeni yapıya geçince, ben de bu yeni halinin oturmasını bekledim ve sonunda 0.9.0 versiyonu ile birlikte kodumu yeniden düzenleyerek makaleme devam edebildim.</p><h3 id="pipeline-ve-model" tabindex="-1">Pipeline ve Model <a class="header-anchor" href="#pipeline-ve-model" aria-label="Permalink to &quot;Pipeline ve Model&quot;">​</a></h3><p>Hazırlamış olduğumuz verileri ML.NET API tarafından tanıtmamız gerekiyor. ML.NET temel olarak bir ana sınıf ile ilerliyor o da <code>MLContext</code> sınıfı, bu sınıf ile birlikte verilerimizi tanımlıyoruz.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;train.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">testDataPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;test.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MLContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create textloader for our structure</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> textLoader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> context.Data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CreateTextReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Separator </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Column </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, DataKind.Text, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Sentence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, DataKind.Text, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> trainDataView</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> textLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataPath);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> testDataView</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> textLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testDataPath);</span></span></code></pre></div><p><code>CreateTextReader</code> methodu ile birlikte girilen verilerin şemasını belirliyoruz. Read methodu ile bu şema dosyalarının yollarını birbirine bağlıyoruz. Ayrıca belirtmek isterim ki, buraya kadar hiç bir dosya yükleme işlemi yapılmadı.</p><p>Sıra da pipeline dediğimiz, bir dizi işlemi ardı ardına yapmakta olan veri yapısını oluşturacağız. Burada yapının güzelliğinden bahsetmek istiyorum, verilmiş olan verilerin teker teker sonuç kısmına kadar hangi işlemlerden geçeceğini alttaki kod parçacığında belirtiyoruz.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create data process pipeline</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// First we have to change label value into ML.NET KeyType</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dataProcessPipeline</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> context.Transforms.Conversion.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MapValueToKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Then, we have to normalize text</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.Transforms.Text.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NormalizeText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Sentence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NormalizedSentence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Featurize the given text with n-grams</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.Transforms.Text.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FeaturizeText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NormalizedSentence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Features&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Give the naive bayes algorithm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.MulticlassClassification.Trainers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NaiveBayes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Convert back the label value to it&#39;s origin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.Transforms.Conversion.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MapKeyToValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PredictedLabel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre></div><ol><li>Öncelikle, “Label” değişkeni string kabul edilmemekte bu yüzden onu ML.NET içerisinde bulunan KeyType tipine çeviriyoruz. MapValueToKey(“Label”)</li><li>Daha sonra verilen cümlelerdeki özel karakterleri/büyük küçük harfleri kaldırıyoruz (normalize) ediyoruz. NormalizeText(“Sentence”, “NormalizedSentence”). Burada yakalanması gereken nokta, normalize edilmiş veri artık “NormalizedSentence” olarak adlandırılması.</li><li>Burada ML.NET’in bir özelliği olan FeaturizeText methodunu kullanacağız. Verilen text değerini n-gramlara ayırmakta, örneğin 2-gram için “merhaba” kelimesini “me”, “er”, “rh”, “ha”, “ab”, “ba”. Şeklinde ayırıp bir dizi oluşturmaktadır. Burada dikkat edilmesi gereken nokta pipeline üzerinde ML algoritması verilmeden önce “Features” alanının oluşması lazım. O yüzden bu methottan çıkan değere “Features” ismini veriyoruz.</li><li>Sıra ML algoritmasını seçmekte, ben Naive Bayes algoritması ile devam edeceğim.</li><li>En son olarak da yaptığımız tüm bu iş hattından çıkan KeyType tipindeki sonucumuzu “Label” da ki değerlere geri çeviriyoruz.</li></ol><p>Şimdi bu pipeline’a ilk aşamada oluşturmuş olduğumuz IDataView arayüzümüzü verip modelimizi oluşturacağız. (Şimdi dosyaları okumaya başladık !)</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create our model with train data</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataProcessPipeline.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Fit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(trainDataView);</span></span></code></pre></div><p>Artık bu model sınıfımız ile birlikte tahminlerimizi gerçekleştirebiliriz. Öncelikle tahmin mekanizması için 2 adet sınıfa ihtiyacımız var, biri yukarıda tanıtmış olduğumuz pipeline’a eş değer olan sınıf (Label ve Sentence). Diğeri ise sonuç sınıfımız. Bunları tanımlayarak başlıyoruz.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SentenceData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Sentence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PredictionData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PredictedLabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Tek bir cümle ile modelimizi test edelim. Blizzard’ın ünlü kart oyunu Heartstone’un ispanyolca kısmından aldığım bir cümleyi test etmek için kullanacağım.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create single prediction engine</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> predictionEngine</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CreatePredictionEngine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SentenceData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PredictionData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(context);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create the testing data</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> testData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SentenceData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { Sentence </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Enfunda tu espada, saca tu baraja y prepárate para disfrutar con Hearthstone, un trepidante juego de cartas de estrategia, fácil de aprender y salvajemente divertido. Inicia una partida gratuita y utiliza tus mejores cartas para lanzar hechizos, invocar criaturas y dar órdenes a los héroes de Warcraft en épicos y estratégicos duelos.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Predict the testing data</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> predictionEngine.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Predict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testData);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Predicted language {0}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.PredictedLabel);</span></span></code></pre></div><p>Veee sonuç beklediğimiz gibi çıkıyor !</p><p>Predicted language es</p><h3 id="modelimiz-ne-kadar-basarılı-oldu" tabindex="-1">Modelimiz ne kadar başarılı oldu ? <a class="header-anchor" href="#modelimiz-ne-kadar-basarılı-oldu" aria-label="Permalink to &quot;Modelimiz ne kadar başarılı oldu ?&quot;">​</a></h3><p>Sıra modelimizi değerlendirme sürecine geldi. Veri kümesinin hazırlanması kısmında gerçek verinin 1/4&#39;ünü bu aşama için ayırmıştık.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> testPredictions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testDataView);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> metrics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> context.MulticlassClassification.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Evaluate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testPredictions);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Model quality metrics evaluation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;------------------------------------------&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$&quot;Accuracy Macro: {</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AccuracyMacro</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>İlk satırda modelimiz ile test verimizi ilişkilendiriyoruz, ikinci satırda ise bu ilişkilendirdiğimiz modeli değerlendirmeye alıyoruz.</p><p>Model quality metrics evaluation<br> — — — — — — — — — — — — — — — — — — — — —<br> Accuracy Macro: 0.985645367576614</p><p>Görüldüğü üzere doğruluk değerimiz yüksek çıktı ama bu aklımıza başka bir sorunu getirebilir. Modelimiz <em>overfit</em> mi oldu ? bu yüzden veriyi ve modeli daha detaylı inceleyip ona göre bakmamız gerekecek ama ben daha kolaya kaçacağım ve makaleyi de uzun tutmamak adına twitter üzerinde modelimizi test edeceğim.</p><p>Bunun için Netflix’in Türkiye (<a href="http://www.twitter.com/netflixturkiye" target="_blank" rel="noreferrer">netflixturkiye</a>), Amerika (<a href="http://www.twitter.com/netflix" target="_blank" rel="noreferrer">netflix</a>) ve İspanya (<a href="http://www.twitter.com/NetflixES" target="_blank" rel="noreferrer">NetflixES</a>) twitter hesaplarının son 400 tweetini test edeceğim. Reply tweetlerini exclude ediyorum.</p><p>Not: İçerisinde sadece link, resim ve ya mention içeren tweetleri doğru tahmin edemiyor haliyle.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TweetTest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UsersTimelineTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(predictionEngine, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NetflixES&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;es&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TweetTest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UsersTimelineTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(predictionEngine, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;netflix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TweetTest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UsersTimelineTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(predictionEngine, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;netflixturkiye&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Örnek kodumuz bu şekilde siz isterseniz farklı tweet hesaplarında deneyebilirsiniz. (twittersettings.json dosyası oluşturup API authentication bilgilerini girmeniz gerekmektedir.)</p><p>Getting <a href="http://twitter.com/NetflixES" title="Twitter profile for @NetflixES" target="_blank" rel="noreferrer">@NetflixES</a>&#39;s recent tweets..<br> Last 78 tweets from 80 are in &#39;es&#39; class<br> Getting <a href="http://twitter.com/netflix" title="Twitter profile for @netflix" target="_blank" rel="noreferrer">@netflix</a>&#39;s recent tweets..<br> Last 116 tweets from 121 are in &#39;en&#39; class<br> Getting <a href="http://twitter.com/netflixturkiye" title="Twitter profile for @netflixturkiye" target="_blank" rel="noreferrer">@netflixturkiye</a>&#39;s recent tweets..<br> Last 53 tweets from 56 are in &#39;tr&#39; class</p><p>Sonuçlar istediğimiz türde çıkıyor, büyük bir oranda doğru tahmin edilmiş. <a href="https://github.com/alimozdemir/medium/blob/master/MLNet/MulticlassLanguageClassifier/CSharp/tweet.txt" target="_blank" rel="noreferrer">tweet.txt</a> dosyasından benim makaleyi yazarken ki sonuçlarıma bakabiliriz. Dosyayı incelediğimizde en çok fark İngilizce olanda var, bakıldığında ispanyolca tweetler atıldığını görebiliyoruz. Ayrıca bir kaç kelimeyi de tanıyamadığını gözlemleyebiliyoruz. Bunun için eğitim havuzumuzu genişletmemizde fayda var.</p><h2 id="sonuc" tabindex="-1">Sonuç <a class="header-anchor" href="#sonuc" aria-label="Permalink to &quot;Sonuç&quot;">​</a></h2><p>Bu yöntem ile metinleri belirli özniteliklere göre sınıflandırabilirsiniz. Son olarak bu makaledeki kaynak koda aşağıdan ulaşabilirsiniz.</p><p><a href="https://github.com/alimozdemir/medium/tree/master/MLNet/MulticlassLanguageClassifier" title="https://github.com/alimozdemir/medium/tree/master/MLNet/MulticlassLanguageClassifier" target="_blank" rel="noreferrer"><strong>alimozdemir/medium</strong><br> _Medium&#39;s story work repository. Contribute to alimozdemir/medium development by creating an account on GitHub._github.com</a><a href="https://github.com/alimozdemir/medium/tree/master/MLNet/MulticlassLanguageClassifier" target="_blank" rel="noreferrer"></a></p><h2 id="kaynaklar" tabindex="-1">Kaynaklar <a class="header-anchor" href="#kaynaklar" aria-label="Permalink to &quot;Kaynaklar&quot;">​</a></h2><p><a href="http://www.diva-portal.org/smash/get/diva2:839705/FULLTEXT01.pdf" target="_blank" rel="noreferrer">http://www.diva-portal.org/smash/get/diva2:839705/FULLTEXT01.pdf</a></p><p><a href="https://datascience.stackexchange.com/questions/15989/micro-average-vs-macro-average-performance-in-a-multiclass-classification-settin/16001" title="https://datascience.stackexchange.com/questions/15989/micro-average-vs-macro-average-performance-in-a-multiclass-classification-settin/16001" target="_blank" rel="noreferrer"><strong>Micro Average vs Macro average Performance in a Multiclass classification setting</strong><br> _Thanks for contributing an answer to Data Science Stack Exchange! Please be sure to answer the question. Provide…_datascience.stackexchange.com</a><a href="https://datascience.stackexchange.com/questions/15989/micro-average-vs-macro-average-performance-in-a-multiclass-classification-settin/16001" target="_blank" rel="noreferrer"></a></p><p><a href="https://docs.microsoft.com/en-us/dotnet/machine-learning/" title="https://docs.microsoft.com/en-us/dotnet/machine-learning/" target="_blank" rel="noreferrer"><strong>ML.NET Content Guide</strong><br> _Learn how to build custom AI solutions and integrate them into your .NET applications using ML.NET._docs.microsoft.com</a><a href="https://docs.microsoft.com/en-us/dotnet/machine-learning/" target="_blank" rel="noreferrer"></a></p></div></div></main><footer class="VPDocFooter" data-v-07acbee8 data-v-6b8b697d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="container flex items-center justify-between mx-auto max-w-3xl w-full pb-8"><a class="VPButton big alt" href="/posts/design-pattern-serisi-3-pipeline" data-v-2bf5222a>Prev</a><a class="VPButton big alt" href="/posts/deget-ddown-a-downloader-cli-api-for-dotnet" data-v-2bf5222a>Next</a></div><!--]--><!--]--><!--]--></div></div><footer class="VPFooter" data-v-59c4430d data-v-929dc9cf><div class="container" data-v-929dc9cf><!----><p class="copyright" data-v-929dc9cf>Copyright © 2019-present Alim Özdemir</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"DtwXcIKv\",\"index.md\":\"D-Y4UAdA\",\"page_1.md\":\"C9ooMqAK\",\"page_2.md\":\"B3xveMde\",\"page_3.md\":\"Dtry9oOv\",\"posts_asp-net-core-a-powerful-api-design-with-odata-ef-and-sqlkata.md\":\"CUKWBiwe\",\"posts_aspnet-core-concatenating-json-endpoints.md\":\"DY9misjc\",\"posts_aspnet-core-jwt-and-refresh-token-with-httponly-cookies.md\":\"BpEQeSYu\",\"posts_better-di-service-registration-with-assembly-scan.md\":\"L9cgB9Ew\",\"posts_deget-ddown-a-downloader-cli-api-for-dotnet.md\":\"yonjmOjl\",\"posts_deployment-of-signalr-with-nginx.md\":\"D9hDXOht\",\"posts_design-pattern-serisi-1-singleton.md\":\"DC00e0i1\",\"posts_design-pattern-serisi-2-object-pool.md\":\"CLQDFLw8\",\"posts_design-pattern-serisi-3-pipeline.md\":\"VP8SPtut\",\"posts_fabric-js-history-operations-undo-redo-and-useful-tips.md\":\"DnJ_saBK\",\"posts_hangfire-docker-with-multiple-servers.md\":\"CYXE1MfW\",\"posts_ml-net-kullanarak-coklu-dil-siniflandirma.md\":\"D2Qd73ZX\",\"posts_nuxt-3-casl-authorization.md\":\"m3_bd1wq\",\"posts_signalr-core-heartbeat-and-redis.md\":\"C3r4Zl7j\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Alim Özdemir\",\"description\":\"Alim Özdemir Personal Website\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://www.github.com/alimozdemir\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/in/almozdmr/\"},{\"icon\":\"twitter\",\"link\":\"https://www.twitter.com/almozdmr\"}],\"footer\":{\"copyright\":\"Copyright © 2019-present Alim Özdemir\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"About\",\"link\":\"/about\"}],\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true,\"contentProps\":{\"articlePerPage\":5}}");</script>
    
  </body>
</html>